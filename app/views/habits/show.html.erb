<h2 id='habit-welcome'> Details about your <%= "#{@habit.name}" %> habit</h2>

<div id="habit-edit">
  <%= form_for @habit do |f| %>
    <%= f.label "Edit this habit's name" %>
    <%= f.text_field :name %>
    <%= f.label "Edit this habit's notification time" %>
    <%= f.time_select 'notification_time', {minute_step: 15, :ampm => true} %>
    <%= f.label :notifications %>
    <%= f.check_box :notifications, {checked: @habit.notifications} %>

    <%= f.submit 'Save' %><br/>
  <% end %>
</div>

<div id="button">
  <%= render "shared/tweet" %>
</div>

<div id="button">
  <%= link_to "Back", dashboard_path %>
</div>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>
</script>
<style>

.chart div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 3px;
  margin: 1px;
  color: white;
}

</style>
<div class="chart"></div>
<script src="/assets/d3.min.js"></script>
<script src="/assets/d3.layout.min.js"></script>
<script src="/assets/rickshaw.min.js"></script><script>

var events = <%= @events %>

var data = events.map(function (pt) { return { x: pt[0], y: pt[1] }; });

var graph = new Rickshaw.Graph( {
        element: document.querySelector(".chart"),
        width: 580,
        height: 250,
        series: [ {
                color: 'steelblue',
                data: data
        } ]
} );

graph.render();
</script>
